<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

	<title>forN</title>

	<style>
		body {
	font-family: Arial, sans-serif;
}

h1 {
	color: #7c7c7c;
	font-size: 24px;
	font-weight: 100;
	line-height: 28px;
	margin: 5;
}
ul {
	margin: 0 0 20px;
	padding: 0;
}
li {
	color: #7c7c7c;
	font-size: 16px;
	font-weight: 100;
	height: 19px;
	line-height: 1px;
	list-style: none;
}

.weather-app-border {
	border: 1px solid #dadde1;
	padding: 15px;
	margin: 20px auto;
	border-radius: 10px;
	max-width: 600px;
}
.weather-icon {
	display: inline-block;
    height: 60px;
    margin-top: unset;
    vertical-align: top;
    width: 60px;
	margin-right: 10px;
}

.temperature {
	color: rgb(33, 33, 33);
	font-size: 64px;
	font-weight: 400;
	line-height: 1;
}

.units {
	position: relative;
	top: -34px;
	
}

.gdeg  {
 	position: relative;
	top: -34px;
}

a {
	text-decoration: none;
}
a:hover {
	text-decoration: underline;
}

.me {
	margin-left: 10px;

}

.search-bottom {
	margin-bottom: 20px;
}

.btn-group {
	left: -5px;
}

.borderForText {

	border: 1px solid #dadde1;
	padding: 15px;
	margin: 20px auto;
	border-radius: 10px;
	max-width: 600px;

}

#map {
  height: 100%;
}

#current-button2 {

	display: block;
	max-width: 600px;
	margin: 20px auto;
	
}

#color-button2 {
	color:#fff;
}
	</style>
</head>
<body>
	
	<div class="container">
		<div>
			<button1 id="current-button2" class="form-control btn btn-success  shadow"><a href="https://github.com/gradobyk/68" id="color-button2" target = "_ blank">Github</a></button1>
					</div>
	<div class="weather-app-border">
		<form id="seach-form">
				<div class="row">
					<div class="col-6">

			<input type="search" id="city-input" placeholder="Type a city.." class="form-control search-bottom"/>
					</div>
					<div class="col-3">
			<input type="submit" value="Search"  id="submit-city" class="form-control btn btn-primary  shadow"/>
					</div>
					<div class="col-3">
			<button id="current-button" class="form-control btn btn-success  shadow">Current</button>
					</div>
				</div>
		</form>
		
	<h1>
	Sydney NSW, Australia
	</h1>
	<ul>
		<li id="current-time">
		Thuesdey 17:00
		</li>
		<li id="current-weather">
		Partly Cloudy
		</li>
	</ul>
<div class="row">
	<div class="col-6">
		
	<span class="temperature" id="number-19"> 19 </span> <span class="gdeg">¬∞C </span>
	
	</div>
	<div class="col-6">	
	
		<!-- <li>
			Precipitation: 0%
		</li> -->
		<li id="current-humidly">
			Humidly: 77%
		</li>
		<li id="current-wind">
			Wind: 8 km/h
		</li>
		<!-- <div class="btn-group" role="group" aria-label="Basic example">
  		<button type="button" class="btn btn-primary   shadow">Temp</button>
  		<button type="button" class="btn btn-primary   shadow">Precipitation</button>
  		<button type="button" class="btn btn-primary shadow">Wind</button>
		</div> -->
	</div>
		</div>
		</div>

		<div class="borderForText">
			<p>üë®‚Äçüè´ Your task
In your project, when a user searches for a city (example: New York), it should display the name of the city on the result page and the current temperature of the city.</p>

			<p>Please note: there's no need to include a temperature conversion at the moment. This will be taught later on in the course.</p>

			<p>üôÄ Bonus point:
Add a Current Location button. When clicking on it, it uses the Geolocation API to get your GPS coordinates and display and the city and current temperature using the OpenWeather API.</p>

		</div>
		<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script> -->

		<script>
			//‚è∞Feature #1 In your project, display the current date and time using JavaScript: Tuesday 16:00

let currentTime = document.querySelector("#current-time");
let date = new Date();
function formatDate (date) {
let time = date.getHours();
if (time < 10) {
	time = `0${time}`;
}
let min = date.getMinutes();
if (min < 10) {
	min = `0${min}`;
}
let curDay = [
  "Sunday",
  "Monday",
  "Tuesday",
  "Wednesday",
  "Thursday",
  "Friday",
  "Saturday",
];
let day = curDay[date.getDay()];
console.log(date);
return `${day} ${time}:${min}`;
}

currentTime.innerHTML = formatDate(date);

//<p>üïµÔ∏è‚Äç‚ôÄÔ∏èFeature #2</p> <p>Add a search engine, when searching for a city (i.e. Paris), display the city name on the page after the user submits the form.</p> city-input

//–ö–ª—é—á

let apiKey = "c23a447e19efb6f70d65b26b00702afa";

//–≤–±–∏–≤–∞–µ—à –º—ñ—Å—Ç–æ —ñ —Ç–æ–±—ñ –≤–∏–¥–∞—î –π–æ–≥–æ –≤ —Å—Ç—Ä–æ—Ü—ñ
//—á–∞—Å—Ç–∏–Ω–∞ –∫–æ–¥—É 1
function cityForm(event) {
  event.preventDefault();

  let cityType = document.querySelector("#city-input");
 
  //—á–∞—Å—Ç–∏–Ω–∞ –∫–æ–¥—É 2
  let city2 = `https://api.openweathermap.org/data/2.5/weather?q=${cityType.value}&units=metric`;

  //—á–∞—Å—Ç–∏–Ω–∞ –∫–æ–¥—É 3
function showWeather2(response) {

	console.log(response.date);
  //–≤–∏–∑–Ω–∞—á–∞—î–º–æ —â–æ —Å–∞–º–µ –±—É–¥–µ–º–æ –∑–º–∏–Ω—é–≤–∞—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞—á–∞ –∫–≤–∞—Ä—ñ–°–µ–ª–µ–∫—Ç–æ—Ä
  let h1 = document.querySelector("h1");
  //–æ–∫—Ä—É–≥–ª—è—î–º–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É
  let temperature = Math.round(response.data.main.temp);
  //–≤–∏–∑–Ω–∞—á–∞—î–º–æ —â–æ –±—É–¥–µ–º–æ –∑–º–∏–Ω—é–≤–∞—Ç–∏ –∫—Ä–∞–¥—É—Å–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞—á–∞ –∫–≤–∞—Ä—ñ–°–µ–ª–µ–∫—Ç–æ—Ä
  let numberG = document.querySelector("#number-19");
  numberG.innerHTML = `${temperature}`;
  //–≤–∏–∑–Ω–∞—á–∞—î–º–æ —Ç–∞ –∑–º—ñ–Ω—é—î–º–æ –æ–¥–∏–Ω –∑ –ø–æ–∫–∞–∑–Ω–∏–∫—ñ–≤ –ø–æ–≥–æ–¥–∏ –∫–ª–∞—É–¥—ñ
  let weatherType = document.querySelector("#current-weather");
  let weatherTypeShow = response.data.weather[0].main;
  weatherType.innerHTML = `${weatherTypeShow}`;
  //–≤–∏–∑–Ω–∞—á–∞—î–º–æ —ñ –∑–º—ñ–Ω—é—î–º–æ  Humidly: 77%
  let humidly = document.querySelector("#current-humidly");
  let humidlyShow = response.data.main.humidity;
  humidly.innerHTML = `Humidly: ${humidlyShow}%`;
  //–≤–∏–∑–Ω–∞—á–∞—î–º–æ —ñ –∑–º—ñ–Ω—é—î–º–æ  Wind: 8 km/h
  let wind = document.querySelector("#current-wind");
  let windShow = Math.round(response.data.wind.speed);
  wind.innerHTML = `Wind: ${windShow} km/h`;
} 
  // cityShow2
  //—á–∞—Å—Ç–∏–Ω–∞ –∫–æ–¥—É 2/2
  axios.get(`${city2}&appid=${apiKey}`).then(showWeather2);

//—á–∞—Å—Ç–∏–Ω–∞ –∫–æ–¥—É 1/2
  let h1 = document.querySelector("h1");
  h1.innerHTML = `Here is ${cityType.value} info üòΩ`;
}

let city = document.querySelector("#submit-city");

city.addEventListener("click", cityForm);

//—Ç–∞–º –¥–µ –ø–æ –º—ñ—Å—Ç—É –ø–æ–∫–∞–∑—É—î –ø–æ–≥–æ–¥—É 

//5/8HMW

function canApply(event) {
	event.preventDefault();

	
//–≤–∞—Ä—ñ–∞–Ω—Ç —Ç–≤–æ–≥–æ —Ç–µ–ø–µ—Ä—à–Ω—å–æ–≥–æ –º—ñ—Å—Ü–µ–∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è
function showWeather(response) {
  
  //–≤–∏–∑–Ω–∞—á–∞—î–º–æ —â–æ —Å–∞–º–µ –±—É–¥–µ–º–æ –∑–º–∏–Ω—é–≤–∞—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞—á–∞ –∫–≤–∞—Ä—ñ–°–µ–ª–µ–∫—Ç–æ—Ä
  let h1 = document.querySelector("h1");
  //–æ–∫—Ä—É–≥–ª—è—î–º–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É
  let temperature = Math.round(response.data.main.temp);
  //–≤–∏–∑–Ω–∞—á–∞—î–º–æ —â–æ –±—É–¥–µ–º–æ –∑–º–∏–Ω—é–≤–∞—Ç–∏ –∫—Ä–∞–¥—É—Å–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞—á–∞ –∫–≤–∞—Ä—ñ–°–µ–ª–µ–∫—Ç–æ—Ä
  let numberG = document.querySelector("#number-19");
  numberG.innerHTML = `${temperature}`;
  //–≤–∏–∑–Ω–∞—á–∞—î–º–æ —Ç–∞ –∑–º—ñ–Ω—é—î–º–æ –æ–¥–∏–Ω –∑ –ø–æ–∫–∞–∑–Ω–∏–∫—ñ–≤ –ø–æ–≥–æ–¥–∏ –∫–ª–∞—É–¥—ñ
  let weatherType = document.querySelector("#current-weather");
  let weatherTypeShow = response.data.weather[0].main;
  weatherType.innerHTML = `${weatherTypeShow}`;
  //–≤–∏–∑–Ω–∞—á–∞—î–º–æ —ñ –∑–º—ñ–Ω—é—î–º–æ  Humidly: 77%
  let humidly = document.querySelector("#current-humidly");
  let humidlyShow = response.data.main.humidity;
  humidly.innerHTML = `Humidly: ${humidlyShow}%`;
  //–≤–∏–∑–Ω–∞—á–∞—î–º–æ —ñ –∑–º—ñ–Ω—é—î–º–æ  Wind: 8 km/h
  let wind = document.querySelector("#current-wind");
  let windShow = Math.round(response.data.wind.speed);
  wind.innerHTML = `Wind: ${windShow} km/h`;

  h1.innerHTML = `You are in ${response.data.name} now üòª`;
console.log(response.data);
  
}
function retrievePosition(position) {
// let lon = position.coords.longitude;
// let lat = position.coords.latitude;
let link = `https://api.openweathermap.org/data/2.5/weather?lat=${position.coords.latitude}&lon=${position.coords.longitude}&units=metric&appid=${apiKey}`;

axios.get(link).then(showWeather);
}



navigator.geolocation.getCurrentPosition(retrievePosition);

}


let canButton = document.querySelector("button");
canButton.addEventListener("click", canApply);



		</script>
</body>
</html>